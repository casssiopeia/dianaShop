<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ö–æ—Ä–∑–∏–Ω–∞ - –†–µ—Ç—Ä–æ –∏ –í–∏–Ω—Ç–∞–∂</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <header>
        <nav>
            <div class="logo">
                <h1>–†–µ—Ç—Ä–æ –∏ –í–∏–Ω—Ç–∞–∂</h1>
            </div>
            <ul class="nav-links">
                <li><a href="index.html">–ì–ª–∞–≤–Ω–∞—è</a></li>
                <li><a href="products.html">–¢–æ–≤–∞—Ä—ã</a></li>
                <li><a href="cart.html">–ö–æ—Ä–∑–∏–Ω–∞ (<span id="cart-count">0</span>)</a></li>
                <li><a href="orders.html">–ú–æ–∏ –∑–∞–∫–∞–∑—ã</a></li>
                <li><a href="complaint.html">–û–±—Ä–∞—â–µ–Ω–∏—è</a></li>
                <li><a href="info.html">–Æ—Ä–∏–¥–∏—á–µ—Å–∫–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è</a></li>
                            </ul>
        </nav>
    </header>

    <main>
        <div class="container">
            <div class="cart-page">
                <h1>–ö–æ—Ä–∑–∏–Ω–∞ –ø–æ–∫—É–ø–æ–∫</h1>
                
                <div class="cart-content">
                    <div class="cart-items-section">
                        <div id="cart-items">
                            <!-- –¢–æ–≤–∞—Ä—ã –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª–µ–Ω—ã —á–µ—Ä–µ–∑ JavaScript -->
                        </div>
                    </div>
                    
                    <div class="cart-summary">
                        <div class="summary-card">
                            <h3>–°–≤–æ–¥–∫–∞ –∑–∞–∫–∞–∑–∞</h3>
                            
                            <div class="summary-line">
                                <span>–¢–æ–≤–∞—Ä—ã (<span id="items-count">0</span>):</span>
                                <span id="items-total">0 ‚ÇΩ</span>
                            </div>
                            
                            <div class="summary-line">
                                <span>–î–æ—Å—Ç–∞–≤–∫–∞:</span>
                                <span id="shipping-cost">0 ‚ÇΩ</span>
                            </div>
                            
                            <div class="summary-line discount">
                                <span>–°–∫–∏–¥–∫–∞:</span>
                                <span>-<span id="discount-amount">0 ‚ÇΩ</span></span>
                            </div>
                            
                            <div class="summary-total">
                                <span>–ò—Ç–æ–≥–æ:</span>
                                <span id="total-price">0 ‚ÇΩ</span>
                            </div>
                            
                            <div class="free-shipping-message" id="free-shipping-message" style="display: none;">
                                üéâ –î–æ–±–∞–≤—å—Ç–µ —Ç–æ–≤–∞—Ä–æ–≤ –µ—â–µ –Ω–∞ <span id="free-shipping-remaining">5 000 ‚ÇΩ</span> –¥–ª—è –±–µ—Å–ø–ª–∞—Ç–Ω–æ–π –¥–æ—Å—Ç–∞–≤–∫–∏!
                            </div>
                            
                            <a href="checkout.html" class="btn checkout-btn" id="checkout-btn" style="display: none;">
                                –ü–µ—Ä–µ–π—Ç–∏ –∫ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—é
                                <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
                                    <path d="M5 12H19M19 12L12 5M19 12L12 19" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                </svg>
                            </a>
                            
                            <button class="continue-shopping-btn" onclick="window.location.href='products.html'">
                                ‚Üê –ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å –ø–æ–∫—É–ø–∫–∏
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h4>–ö–æ–Ω—Ç–∞–∫—Ç—ã</h4>
                    <p>–¢–µ–ª–µ—Ñ–æ–Ω: +7 (495) 123-45-67</p>
                    <p>Email: info@retro-vintage.ru</p>
                </div>
                <div class="footer-section">
                    <h4>–†–µ–∂–∏–º —Ä–∞–±–æ—Ç—ã</h4>
                    <p>–ü–Ω-–ü—Ç: 9:00-18:00</p>
                    <p>–°–±-–í—Å: 10:00-16:00</p>
                </div>
                <div class="footer-section">
                    <h4>–Æ—Ä–∏–¥–∏—á–µ—Å–∫–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è</h4>
                    <p><a href="info.html">–í—Å—è —é—Ä–∏–¥–∏—á–µ—Å–∫–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è</a></p>
                </div>
            </div>
        </div>
    </footer>

    <script src="js/app.js"></script>
    <!-- –£–î–ê–õ–ò–¢–ï –≠–¢–£ –°–¢–†–û–ö–£: <script src="js/cart.js"></script> -->
    
    <script>
        // –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π —Å–∫—Ä–∏–ø—Ç –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∏—Ç–æ–≥–æ–≤–æ–π —Å—É–º–º—ã –≤ –∫–æ—Ä–∑–∏–Ω–µ
        function updateCartSummary() {
            const cart = RetroShop.cart;
            const itemsTotalElement = document.getElementById('items-total');
            const itemsCountElement = document.getElementById('items-count');
            const shippingCostElement = document.getElementById('shipping-cost');
            const totalPriceElement = document.getElementById('total-price');
            const freeShippingMessage = document.getElementById('free-shipping-message');
            const freeShippingRemaining = document.getElementById('free-shipping-remaining');
            const checkoutBtn = document.getElementById('checkout-btn');

            if (itemsTotalElement) {
                itemsTotalElement.textContent = RetroShop.utils.formatPrice(cart.total);
            }
            
            if (itemsCountElement) {
                itemsCountElement.textContent = cart.itemCount;
            }

            // –†–∞—Å—á–µ—Ç –¥–æ—Å—Ç–∞–≤–∫–∏
            const shippingCost = cart.total >= RetroShop.config.freeShippingAmount ? 0 : RetroShop.config.shippingCost;
            if (shippingCostElement) {
                shippingCostElement.textContent = shippingCost === 0 ? '–ë–µ—Å–ø–ª–∞—Ç–Ω–æ' : RetroShop.utils.formatPrice(shippingCost);
            }

            // –ò—Ç–æ–≥–æ–≤–∞—è —Å—É–º–º–∞
            const finalTotal = cart.total + shippingCost;
            if (totalPriceElement) {
                totalPriceElement.textContent = RetroShop.utils.formatPrice(finalTotal);
            }

            // –°–æ–æ–±—â–µ–Ω–∏–µ –æ –±–µ—Å–ø–ª–∞—Ç–Ω–æ–π –¥–æ—Å—Ç–∞–≤–∫–µ
            if (freeShippingMessage && freeShippingRemaining) {
                if (cart.total < RetroShop.config.freeShippingAmount && cart.total > 0) {
                    const remaining = RetroShop.config.freeShippingAmount - cart.total;
                    freeShippingRemaining.textContent = RetroShop.utils.formatPrice(remaining);
                    freeShippingMessage.style.display = 'block';
                } else {
                    freeShippingMessage.style.display = 'none';
                }
            }

            // –ö–Ω–æ–ø–∫–∞ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è –∑–∞–∫–∞–∑–∞
            if (checkoutBtn) {
                checkoutBtn.style.display = cart.items.length > 0 ? 'block' : 'none';
            }
        }

        // –û–±–Ω–æ–≤–ª—è–µ–º –∏—Ç–æ–≥–∏ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
        document.addEventListener('DOMContentLoaded', function() {
            // –°–ª—É—à–∞–µ–º –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ –∫–æ—Ä–∑–∏–Ω–µ
            const originalUpdateUI = RetroShop.cart.updateUI;
            RetroShop.cart.updateUI = function() {
                originalUpdateUI.call(this);
                updateCartSummary();
            };
            
            // –ü–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ
            updateCartSummary();
        });
    </script>
</body>
</html>